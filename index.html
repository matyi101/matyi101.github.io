<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAMA DMBOK Chapter 1: Interactive Mock Exam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .option-btn {
            transition: all 0.2s ease-in-out;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .correct {
            background-color: #dcfce7 !important; /* green-100 */
            border-color: #22c55e !important; /* green-500 */
            color: #166534; /* green-800 */
        }
        .incorrect {
            background-color: #fee2e2 !important; /* red-100 */
            border-color: #ef4444 !important; /* red-500 */
            color: #991b1b; /* red-800 */
        }
        .selected {
             border-color: #3b82f6; /* blue-500 */
             background-color: #dbeafe; /* blue-100 */
        }
        .explanation {
            font-style: italic;
            color: #475569; /* slate-600 */
            margin-top: 4px;
            display: block; /* Ensures it's on a new line */
        }
        .feedback-clickable {
            cursor: pointer;
        }
        /* Styles for the summary section */
        .summary-item-correct {
            border-left: 4px solid #22c55e; /* green-500 */
        }
        .summary-item-incorrect {
            border-left: 4px solid #ef4444; /* red-500 */
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-3xl bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
        <!-- Quiz Header -->
        <div class="mb-6">
            <h1 class="text-2xl sm:text-3xl font-bold text-slate-900">DAMA DMBOK: Chapter 1 Exam</h1>
            <p class="text-slate-500 mt-1">Test your knowledge of Data Management fundamentals.</p>
        </div>

        <!-- Progress and Score -->
        <div id="progress-score-container" class="mb-6">
            <div class="flex justify-between items-center mb-2 text-sm font-medium text-slate-600">
                <p>Question <span id="question-number">1</span> of <span id="total-questions">10</span></p>
                <p>Score: <span id="score">0</span></p>
            </div>
            <div class="w-full bg-slate-200 rounded-full h-2.5">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
            </div>
        </div>
        
        <!-- Quiz Content -->
        <div id="quiz-content">
            <h2 id="question" class="text-lg font-semibold text-slate-800 mb-5 leading-relaxed">Question text will be loaded here.</h2>
            <div id="options" class="grid grid-cols-1 gap-4">
                <!-- Options will be dynamically inserted here -->
            </div>
            <div id="feedback" class="mt-4 text-sm font-medium p-3 rounded-lg hidden"></div>
        </div>

        <!-- Navigation -->
        <div id="navigation" class="mt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
            <button id="show-answer-btn" class="w-full sm:w-auto option-btn bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Show Answer</button>
            <div class="flex w-full sm:w-auto gap-4">
                <button id="prev-btn" class="w-1/2 sm:w-auto option-btn bg-white border border-slate-300 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed">Previous</button>
                <button id="next-btn" class="w-1/2 sm:w-auto option-btn bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed">Next</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-container" class="text-center hidden">
            <h2 class="text-3xl font-bold text-slate-900 mb-4">Quiz Complete!</h2>
            <p class="text-lg text-slate-600 mb-2">Your final score is:</p>
            <p class="text-5xl font-extrabold text-blue-600 mb-6" id="final-score"></p>
            <p class="text-slate-500 mb-8" id="score-summary"></p>
            
            <!-- Detailed Summary Section -->
            <div id="results-summary-container" class="mt-8 text-left">
                <h3 class="text-xl font-bold text-slate-800 mb-4">Your Answers:</h3>
                <div id="results-summary" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                    <!-- Summary items will be inserted here -->
                </div>
            </div>

            <button id="restart-btn" class="mt-8 option-btn bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 text-lg">Restart Quiz</button>
        </div>

    </div>

    <script>
        // --- Quiz Data ---
        const questions = [
            { question: "What is the definition of Data Management provided in the DMBOK?", options: ["The process of supervising IT staff and managing technology assets.", "The development, execution, and supervision of plans, policies, programs, and practices that deliver, control, protect, and enhance the value of data and information assets.", "The exclusive act of database administration and performance tuning.", "The creation of new software applications to generate business revenue."], correctAnswer: 1, explanation: "This is the official definition provided in Chapter 1. It emphasizes a broad range of activities beyond just technical management, focusing on the entire lifecycle and value of data assets. (Page 17)" },
            { question: "A Data Management Professional is defined as someone who:", options: ["Only works in a highly technical role, such as a database administrator.", "Only works in a strategic business role, such as a Data Steward.", "Works in any facet of data management to meet strategic organizational goals.", "Is primarily responsible for the financial accounting of data assets."], correctAnswer: 2, explanation: "The DMBOK defines this role broadly, including anyone from technical to strategic business roles who works with data to achieve organizational goals. (Page 17)" },
            { question: "Data management requires a shared responsibility between which two groups?", options: ["Sales and Marketing", "Legal and Human Resources", "Business and Information Technology", "Senior Executives and Junior Staff"], correctAnswer: 2, explanation: "The text explicitly states that 'responsibility for managing data must be shared between business and information technology roles' to ensure data meets strategic needs. (Page 17)" },
            { question: "According to the text, data is both an interpretation of the objects it represents and:", options: ["A simple, straightforward fact.", "An object that must be interpreted.", "A digital-only format.", "A form of currency."], correctAnswer: 1, explanation: "This concept from Chapter 1 highlights that data is not just a raw fact; it requires context and interpretation to be meaningful. (Page 19)" },
            { question: "What is the term for the data used to manage and use other data, providing necessary context?", options: ["Transactional Data", "Master Data", "Reference Data", "Metadata"], correctAnswer: 3, explanation: "Metadata is 'data about data.' It provides the necessary context for understanding, managing, and using other data assets. (Page 19)" },
            { question: "The text states that data is widely recognized as a vital enterprise asset. What is the definition of an asset?", options: ["Any physical resource owned by the company.", "An economic resource that can be owned or controlled and that holds or produces value.", "A liability that must be managed to reduce risk.", "A piece of software used for business operations."], correctAnswer: 1, explanation: "This definition from Chapter 1 establishes the economic basis for treating data as a valuable resource that requires management. (Page 20)" },
            { question: "What does it mean for an organization to be 'data-driven'?", options: ["It has the most advanced technology and the largest volume of data.", "It makes decisions based on gut feelings but validates them with data later.", "It uses event triggers and applies analytics to gain actionable insight for decision-making.", "It only hires employees with a degree in data science."], correctAnswer: 2, explanation: "Being data-driven means moving beyond intuition and using disciplined analysis of reliable data to make more effective decisions. (Page 21)" },
            { question: "Which of the following is a unique property of data as an asset compared to physical or financial assets?", options: ["It wears out over time with repeated use.", "It can only be in one place at one time.", "It is not consumed when it is used.", "Its value is always easy to calculate and fixed."], correctAnswer: 2, explanation: "A key unique property of data is that it is not consumed when used, allowing it to be leveraged by multiple people and processes simultaneously. (Page 21, 23)" },
            { question: "One of the key Data Management Principles states that the value of data can and should be expressed in what terms?", options: ["Technical", "Abstract", "Economic", "Operational"], correctAnswer: 2, explanation: "This principle emphasizes that quantifying data's value in economic terms is crucial for making informed management decisions. (Page 21)" },
            { question: "According to the Data Management Principles, managing data primarily means managing what aspect of data?", options: ["Its volume", "Its velocity", "Its format", "Its quality"], correctAnswer: 3, explanation: "The principle 'Managing data means managing the quality of data' establishes that ensuring data is fit for its intended purpose is a central goal of data management. (Page 21)" }
        ];

        // --- DOM Elements ---
        const feedbackEl = document.getElementById('feedback');
        const quizContent = document.getElementById('quiz-content');
        const resultsContainer = document.getElementById('results-container');
        const navigation = document.getElementById('navigation');
        const progressScoreContainer = document.getElementById('progress-score-container');
        const resultsSummaryEl = document.getElementById('results-summary');
        
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        
        const questionNumberEl = document.getElementById('question-number');
        const totalQuestionsEl = document.getElementById('total-questions');
        const scoreEl = document.getElementById('score');
        const progressBarEl = document.getElementById('progress-bar');
        
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const restartBtn = document.getElementById('restart-btn');

        // --- Quiz State ---
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let explanationRevealed = new Array(questions.length).fill(false);

        // --- Functions ---
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            explanationRevealed.fill(false);
            resultsContainer.classList.add('hidden');
            progressScoreContainer.classList.remove('hidden');
            quizContent.classList.remove('hidden');
            navigation.classList.remove('hidden');
            totalQuestionsEl.textContent = questions.length;
            loadQuestion();
        }

        function loadQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionEl.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            
            optionsEl.innerHTML = '';
            feedbackEl.classList.add('hidden');
            feedbackEl.innerHTML = '';
            feedbackEl.classList.remove('feedback-clickable');


            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn', 'w-full', 'text-left', 'p-4', 'border', 'border-slate-300', 'rounded-lg', 'bg-slate-50', 'hover:bg-slate-100', 'disabled:cursor-not-allowed', 'disabled:opacity-70');
                button.dataset.index = index;
                button.onclick = () => selectAnswer(index);
                optionsEl.appendChild(button);
            });
            
            updateProgress();
            updateNavigation();
            restoreAnswerState();
        }

        function selectAnswer(selectedIndex) {
            if (userAnswers[currentQuestionIndex] !== null) return;

            userAnswers[currentQuestionIndex] = selectedIndex;
            const currentQuestion = questions[currentQuestionIndex];
            const isCorrect = selectedIndex === currentQuestion.correctAnswer;

            if (isCorrect) {
                score++;
            }
            
            showFeedback(isCorrect, currentQuestion.explanation, false); // Initially, don't show explanation
            highlightAnswers(isCorrect, selectedIndex);
            disableOptions();
            updateProgress();
        }
        
        function showFeedback(isCorrect, explanation, showFull) {
            feedbackEl.classList.remove('hidden');
            
            let feedbackText = isCorrect ? '<strong>Correct!</strong>' : '<strong>Incorrect.</strong>';
            let explanationHint = ' <span class="explanation">(Click for explanation)</span>';
            let fullExplanation = ` <span class="explanation">${explanation}</span>`;

            if (showFull) {
                feedbackEl.innerHTML = feedbackText + fullExplanation;
                feedbackEl.classList.remove('feedback-clickable');
            } else {
                feedbackEl.innerHTML = feedbackText + explanationHint;
                feedbackEl.classList.add('feedback-clickable');
            }
            
            if (isCorrect) {
                feedbackEl.classList.remove('bg-red-100', 'text-red-700');
                feedbackEl.classList.add('bg-green-100', 'text-green-700');
            } else {
                feedbackEl.classList.remove('bg-green-100', 'text-green-700');
                feedbackEl.classList.add('bg-red-100', 'text-red-700');
            }
        }

        function revealExplanation() {
            if (userAnswers[currentQuestionIndex] === null || explanationRevealed[currentQuestionIndex]) return;
            
            explanationRevealed[currentQuestionIndex] = true;
            const currentQuestion = questions[currentQuestionIndex];
            const selectedIndex = userAnswers[currentQuestionIndex];
            const isCorrect = selectedIndex === currentQuestion.correctAnswer;
            
            showFeedback(isCorrect, currentQuestion.explanation, true);
        }

        function highlightAnswers(isCorrect, selectedIndex) {
            const currentQuestion = questions[currentQuestionIndex];
            
            Array.from(optionsEl.children).forEach((btn, index) => {
                if (isCorrect && index === selectedIndex) {
                    btn.classList.add('correct');
                } else if (!isCorrect && index === selectedIndex) {
                    btn.classList.add('incorrect');
                }
            });
        }
        
        function highlightCorrectAnswer() {
            const currentQuestion = questions[currentQuestionIndex];
            Array.from(optionsEl.children).forEach((btn, index) => {
                 if (index === currentQuestion.correctAnswer) {
                    btn.classList.add('correct');
                }
            });
        }


        function restoreAnswerState() {
             if (userAnswers[currentQuestionIndex] !== null) {
                const currentQuestion = questions[currentQuestionIndex];
                const selectedIndex = userAnswers[currentQuestionIndex];
                const isCorrect = selectedIndex === currentQuestion.correctAnswer;
                
                if (selectedIndex === -1) { // Answer was shown, not selected
                    showFeedback(false, currentQuestion.explanation, explanationRevealed[currentQuestionIndex]);
                    highlightCorrectAnswer();
                } else {
                    showFeedback(isCorrect, currentQuestion.explanation, explanationRevealed[currentQuestionIndex]);
                    highlightAnswers(isCorrect, selectedIndex);
                }
                disableOptions();
             }
        }

        function disableOptions() {
            Array.from(optionsEl.children).forEach(btn => btn.disabled = true);
            showAnswerBtn.disabled = true;
        }

        function updateProgress() {
            questionNumberEl.textContent = currentQuestionIndex + 1;
            scoreEl.textContent = score;
            const progressPercentage = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBarEl.style.width = `${progressPercentage}%`;
        }

        function updateNavigation() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finish' : 'Next';
            showAnswerBtn.disabled = userAnswers[currentQuestionIndex] !== null;
        }

        function showResults() {
            progressScoreContainer.classList.add('hidden');
            quizContent.classList.add('hidden');
            navigation.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            const percentage = ((score / questions.length) * 100).toFixed(1);
            document.getElementById('final-score').textContent = `${percentage}%`;
            document.getElementById('score-summary').textContent = `You answered ${score} out of ${questions.length} questions correctly.`;
            
            // Build and display the summary
            buildResultsSummary();
        }

        function buildResultsSummary() {
            resultsSummaryEl.innerHTML = ''; // Clear previous summary
            questions.forEach((q, index) => {
                const userAnswerIndex = userAnswers[index];
                const isCorrect = userAnswerIndex === q.correctAnswer;
                
                let userAnswerText;
                if (userAnswerIndex === null) {
                    userAnswerText = "Not Answered";
                } else if (userAnswerIndex === -1) {
                    userAnswerText = "Answer Shown";
                } else {
                    userAnswerText = q.options[userAnswerIndex];
                }

                const resultItem = document.createElement('div');
                resultItem.classList.add('p-4', 'rounded-lg', 'bg-slate-50', 'border');
                resultItem.classList.add(isCorrect ? 'summary-item-correct' : 'summary-item-incorrect');

                resultItem.innerHTML = `
                    <p class="font-semibold text-slate-800">${index + 1}. ${q.question}</p>
                    <p class="mt-2 text-sm text-slate-600">Your answer: <span class="font-medium ${isCorrect ? 'text-green-700' : 'text-red-700'}">${userAnswerText}</span></p>
                    ${!isCorrect ? `<p class="mt-1 text-sm text-slate-600">Correct answer: <span class="font-medium text-green-700">${q.options[q.correctAnswer]}</span></p>` : ''}
                `;
                resultsSummaryEl.appendChild(resultItem);
            });
        }
        
        // --- Event Listeners ---
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });
        
        showAnswerBtn.addEventListener('click', () => {
             if (userAnswers[currentQuestionIndex] === null) {
                userAnswers[currentQuestionIndex] = -1; // Mark as "shown"
                explanationRevealed[currentQuestionIndex] = true; // Reveal explanation immediately
                const currentQuestion = questions[currentQuestionIndex];
                showFeedback(false, currentQuestion.explanation, true);
                highlightCorrectAnswer();
                disableOptions();
             }
        });
        
        feedbackEl.addEventListener('click', revealExplanation);

        restartBtn.addEventListener('click', startQuiz);

        // --- Initial Load ---
        startQuiz();

    </script>
</body>
</html>
